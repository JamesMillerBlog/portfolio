function updatePosition(e,i){currentPosX=e,currentPosY=i,0==isAnimating&&("portfolio1page"==isHover&&$("#container").css({"margin-left":currentPosX/1.2+"px","margin-top":.7*currentPosY+"px"}),"portfolio2page"==isHover&&$("#container").css({"margin-left":1.16*currentPosX+"px","margin-top":.7*currentPosY+"px"}),"portfolio3page"==isHover&&$("#container").css({"margin-left":currentPosX/1.2+"px","margin-top":1.3*currentPosY+"px"}),"portfolio4page"==isHover&&$("#container").css({"margin-left":1.16*currentPosX+"px","margin-top":1.3*currentPosY+"px"}),"portfolio5page"==isHover&&$("#container").css({"margin-left":currentPosX+"px","margin-top":.6*currentPosY+"px"}),"portfolio6page"==isHover&&$("#container").css({"margin-left":currentPosX/1.3+"px","margin-top":currentPosY+"px"}),"portfolio7page"==isHover&&$("#container").css({"margin-left":1.24*currentPosX+"px","margin-top":currentPosY+"px"}),"portfolio8page"==isHover&&$("#container").css({"margin-left":currentPosX+"px","margin-top":1.4*currentPosY+"px"}),"container"==isHover&&($("#container").css({opacity:1,"margin-left":e+"px","margin-top":i+"px"}),$(".backgroundImage").css({width:backgroundWSize+"px",height:backgroundHSize+"px"}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""}),lastScrolled="container"))}function animateIn(){lastVideo=lastScrolled.substr(lastScrolled.length-1)-1,players[lastVideo].playVideo(),1==myPlayerState&&"0"===$("#"+isHover+" .videoContainer").css("opacity")&&$("#"+isHover+" .videoContainer").stop().animate({opacity:1})}function checkWidth(){var e=movementStrength/$(window).height(),i=movementStrength/$(window).width();windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height();var o=-windowSizeHeight,t=-windowSizeWidth,n=y-$(window).height()/2,r=x-$(window).width()/2,a=i*r*-1+t,d=e*n*-1+o;"newUser"!=lastScrolled&&$(function(){updatePosition(a,d)})}function deviceMotionHandler(e){checkWidth(),movementStrength=3;var i=Math.round(event.accelerationIncludingGravity.y)*(3*$(".backgroundImage").height()),o=Math.round(event.accelerationIncludingGravity.x)*(2*$(".backgroundImage").width());$(window).height()<$(window).width()&&(i=Math.round(event.accelerationIncludingGravity.x)*$(".backgroundImage").width(),o=Math.round(event.accelerationIncludingGravity.y)*$(".backgroundImage").height()*6),x=o,y=i}function onYouTubeIframeAPIReady(){var e=document.querySelectorAll("iframe");for(videoList=0;videoList<e.length;videoList++)players[videoList]=createPlayer(e[videoList]);console.log("youtube iframes ready")}function createPlayer(e){return new YT.Player(e.id,{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){isLoaded++,e.target.mute(),isLoaded==videoList&&(console.log("videos ready"),isReady=!0)}function pauseAllVideos(){for(var e=0;e<videoList;e++)players[e].pauseVideo()}function onPlayerStateChange(e){myPlayerState=e.data,"container"!=isHover&&1==isReady&&animateIn()}$(document).ready(function(){console.log("ready!"),$.fn.bgLoaded=function(e){var i=this,o={afterLoaded:function(){this.addClass("bg-loaded")}},t=$.extend({},o,e);i.each(function(){var e=$(this),i=e.css("background-image").split(", ");e.data("loaded-count",0),$.each(i,function(o,n){var r=n.replace(/^url\(["']?/,"").replace(/["']?\)$/,"");$("<img/>").attr("src",r).load(function(){$(this).remove(),e.data("loaded-count",e.data("loaded-count")+1),e.data("loaded-count")>=i.length&&t.afterLoaded.call(e)})})})}});var has_touch="ontouchstart"in document.documentElement,isTablet=/Tablet|ipad/i.test(navigator.userAgent.toLowerCase()),isMobile=/webos|iphone|blackberry|ipod|android. +mobile|windows phone/i.test(navigator.userAgent.toLowerCase()),currentPosX,currentPosY,backgroundWSize,backgroundHSize,backgroundWPos,backgroundHPos,smallHitboxWSize,smallHitboxHSize,largeHitboxWSize,largeHitboxHSize,medHitboxWSize,medHitboxHSize,outerBtnHolderWSize,outerBtnHolderHSize,innerBtnHolderHSize,newouterBtnHolderWSize,newInnerBtnHolderHSize,newouterBtnHolderHSize,innerBtnHolderTop,outerBtnHolderTop,newInnerBtnHolderTop,windowSizeWidth,windowSizeHeight,isAnimating=!1,isHover="container",shortMovement=1.22,mediumMovement=1.28,longMovement=1.29,image,lastScrolled="newUser",lastVideo,backgroundWMover,backgroundHMover,rightPosMath=1.57,bottomPosMath=1.73,topPosMath=3.22,leftPosMath=3.94,growBackgroundWSize,shrinkBackgroundWSize,v=document.createElement("video"),divCenter,middleImagesHeight,newMiddleImagesHeight;$(document).ready(function(){function e(){windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height();var e,o,t,r,o,a,d,g,l;$("#homepage").css({"margin-left":windowSizeWidth+"px","margin-top":windowSizeHeight+"px"}),$("#container").css({height:3*windowSizeHeight+"px ",width:3*windowSizeWidth+"px","margin-left":"-"+windowSizeWidth+"px","margin-top":"-"+windowSizeHeight+"px",opacity:1}),backgroundWMover=.375*$("#homepage").width(),backgroundHMover=.375*$("#homepage").height(),windowSizeWidth>1024?(e=.5,t=.75,r=1.72,o=1.7,a=1.5,d=1.734,g=1.29,l=1.32,backgroundWSize=$("#homepage").width()/7,backgroundHSize=$("#homepage").height()/5,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,medHitboxWSize=3*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize):windowSizeWidth>900&&windowSizeWidth<1024?(e=.58,t=.72,r=1.72,o=1.74,a=1.5,d=1.77,g=1.354,l=1.345,backgroundWSize=$("#homepage").width()/7,backgroundHSize=$("#homepage").height()/6,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize):(windowSizeWidth>=551&&windowSizeWidth<900||isTablet)&&(e=.65,t=.42,r=1.78,o=1.75,a=2.3,d=1.77,g=1.3,l=1.375,backgroundWSize=$("#homepage").width()/5,backgroundHSize=$("#homepage").height()/7,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize),(windowSizeWidth<=550||isMobile)&&(e=.25,o=1.6,a=8,d=1.66,g=1.3478,l=1.375,backgroundWSize=$("#homepage").width()/3.3,backgroundHSize=$("#homepage").height()/3.5,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=backgroundWSize),$(".backgroundImage").css({width:backgroundWSize+"px ",height:backgroundHSize+"px"}),outerBtnHolderWSize=$("#outerBtnHolder").width(),outerBtnHolderHSize=$("#outerBtnHolder").height(),innerBtnHolderHSize=$("#innerBtnHolder").height(),middleImagesHeight=$("#middleImages").height(),divCenter=($(window).width()-outerBtnHolderWSize)/2,growBackgroundWSize=1.3*backgroundWSize,shrinkBackgroundWSize=backgroundWSize/1.9,newouterBtnHolderWSize=outerBtnHolderWSize/1.5,newouterBtnHolderHSize=outerBtnHolderHSize/1.5,newMiddleImagesHeight=middleImagesHeight/1,newInnerBtnHolderHSize=innerBtnHolderHSize/1.5,outerBtnHolderTop=($("#homepage").height()-$("#outerBtnHolder").height())/2,innerBtnHolderTop=(outerBtnHolderHSize-innerBtnHolderHSize)/2,newInnerBtnHolderTop=(newouterBtnHolderHSize-newInnerBtnHolderHSize)/2,$("#outerBtnHolder").css({width:"",height:"",top:outerBtnHolderTop+"px","margin-left":"","margin-right":"",left:"",right:""}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""}),$("#portfolio1page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth/a+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio2page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*d+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio3page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth/a+"px","margin-top":windowSizeHeight*o+"px"}),$("#portfolio4page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*d+"px","margin-top":windowSizeHeight*o+"px"}),$("#portfolio5page").css({height:largeHitboxHSize+"px ",width:medHitboxWSize+"px","margin-left":windowSizeWidth*g+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio6page").css({height:smallHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*t+"px","margin-top":windowSizeHeight*l+"px"}),$("#portfolio7page").css({height:smallHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*r+"px","margin-top":windowSizeHeight*l+"px"}),$("#portfolio8page").css({height:largeHitboxHSize+"px ",width:medHitboxWSize+"px","margin-left":windowSizeWidth*g+"px","margin-top":windowSizeHeight*o+"px"}),$("#middleImages").css({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px "}),"container"!=isHover&&n("reset"),1==!!v.canPlayType&&windowSizeWidth>1024&&"newUser"==lastScrolled?i():(0==!!v.canPlayType||windowSizeWidth<1024)&&i()}function i(){console.log("static home triggered"),$("video").css({display:"none"}),$("#moving5").addClass("designBackground"),lastScrolled="",isHover="container",isAnimating=!1}function o(e){"portfolio1page"==e&&($("#container").stop().animate({"margin-left":currentPosX/1.2+"px","margin-top":.7*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio1"),"portfolio2page"==e&&($("#container").stop().animate({"margin-left":1.16*currentPosX+"px","margin-top":.7*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio2"),"portfolio3page"==e&&($("#container").stop().animate({"margin-left":currentPosX/1.2+"px","margin-top":1.3*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio3"),"portfolio4page"==e&&($("#container").stop().animate({"margin-left":1.16*currentPosX+"px","margin-top":1.3*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio4"),"portfolio5page"==e&&($("#container").stop().animate({"margin-left":currentPosX+"px","margin-top":.6*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio5"),"portfolio6page"==e&&($("#container").stop().animate({"margin-left":currentPosX/1.3+"px","margin-top":currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio6"),"portfolio7page"==e&&($("#container").stop().animate({"margin-left":1.24*currentPosX+"px","margin-top":currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio7"),"portfolio8page"==e&&($("#container").stop().animate({"margin-left":currentPosX+"px","margin-top":1.4*currentPosY+"px"},{complete:function(){isAnimating=!1}}),lastScrolled="#portfolio8"),t()}function t(){$(lastScrolled).removeClass("backgroundImage").addClass("staticImage"),$(lastScrolled+"page .content").stop().animate({opacity:1}),$(".staticImage").stop().animate({width:growBackgroundWSize+"px"},{complete:function(){1==isReady&&animateIn()}}),$(".backgroundImage").stop().animate({width:shrinkBackgroundWSize+"px"})}function n(e){if($(lastScrolled).removeClass("staticImage").addClass("backgroundImage"),$(lastScrolled+"page .content").stop().animate({opacity:0}),$(".videoContainer").stop().animate({opacity:0}),1==isReady&&pauseAllVideos(),"reset"!=e&&""!=lastScrolled){isAnimating=!0,$(".backgroundImage").stop().animate({width:backgroundWSize+"px"}),$("#"+e+" .content").stop().animate({opacity:0}),$("#middleImages").stop().animate({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px"}),$("#innerBtnHolder").stop().animate({top:innerBtnHolderTop+"px"}),$("#outerBtnHolder").stop().animate({width:outerBtnHolderWSize+"px",height:outerBtnHolderHSize+"px","margin-right":"","margin-left":divCenter+"px",top:outerBtnHolderTop+"px"});for(var i=1;i<8;i++)isHover!="portfolio"+i+"page"&&(isHover="container",$("#container").stop().animate({"margin-left":currentPosX+"px","margin-top":currentPosY+"px"},{complete:function(){isAnimating=!1,console.log("animated back to original layout")}}))}else $("#container").css({opacity:0,"margin-left":currentPosX+"px","margin-top":currentPosY+"px"}),$(lastScrolled).css({opacity:1}),setTimeout(function(){isAnimating=!1,isHover="container"},50)}$(".backgroundImage").imagesLoaded().done(function(i){console.log("all images successfully loaded"),e()}),$(window).resize(e),$(window).on("orientationchange",function(i){e()}),$(".animatingPage").mouseenter(function(){if(windowSizeWidth>1024&&0==isNaN(currentPosX)&&windowSizeHeight>500){isHover=$(this).attr("id"),isAnimating=!0;for(var e=1;e<9;e++)isHover=="portfolio"+e+"page"&&""!=lastScrolled&&o(isHover)}}),$(".animatingPage").mouseleave(function(){windowSizeWidth>1024&&n(isHover)})});var x,y,movementStrength=10;$(document).bind("touchmove",function(e){e.preventDefault()}),checkWidth(),$(window).resize(checkWidth),has_touch?window.addEventListener("devicemotion",deviceMotionHandler,!1):$("body").mousemove(function(e){checkWidth(),x=e.pageX,y=e.pageY});var tag=document.createElement("script");tag.src="//www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var isLoaded=0,isReady=!1,videoList,players=[],myPlayerState;