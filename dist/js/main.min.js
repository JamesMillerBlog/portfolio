function onYouTubeIframeAPIReady(){var e=document.querySelectorAll(".yPlayer");for(videoList=0;videoList<e.length;videoList++)players[videoList]=createPlayer(e[videoList],videoList);isTablet&&loadMobileDevice()}function createPlayer(e,i){var o=$("#"+e.id).attr("src");return YouTubeGetID(o),playerYoutubeIds[i]=ID,new YT.Player(e.id,{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function loadMobileDevice(){player=new YT.Player("mobileVideoLoader",{height:"100%",width:"100%",events:{onReady:onMobileDevicePlayerReady,onStateChange:onMobileDevicePlayerStateChange}})}function onMobileDevicePlayerReady(e){}function onPlayerReady(e){isLoaded++;$("iframe",this).attr("src");e.target.mute(),isLoaded==videoList&&(console.log("videos ready"),isReady=!0)}function pauseAllVideos(){for(var e=0;e<videoList;e++)players[e].pauseVideo()}function onPlayerStateChange(e){myPlayerState=e.data,"container"!=isHover&&1==isReady&&animateIn(),1==myPlayerState&&isMobile&&players[lastVideo].seekTo(0).unMute(),2!=myPlayerState&&0!=myPlayerState||isMobile&&players[lastVideo].mute()}function onMobileDevicePlayerStateChange(e){videoLoaderState=e.data,1==selectedVidLoader&&3==videoLoaderState&&player.playVideo(),1==videoLoaderState&&selectedVidLoader++}function fullScreen(e){e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen&&e.mozRequestFullScreen(),clickedVideo=!0}function YouTubeGetID(e){return ID="",e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==e[2]?(ID=e[2].split(/[^0-9a-z_\-]/i),ID=ID[0]):ID=e,ID}function fullScreenMobile(){players[lastVideo].playVideo(),wasPlayed=lastVideo,staticHome()}function fullScreenTouchDevice(e){playerYoutubeIds[e]!=wasPlayed&&player.loadVideoById(playerYoutubeIds[e]),wasPlayed=playerYoutubeIds[e],$("#container, .animatingPage, iframe").css({display:"none"}),$("#mobileVideoLoader, #mobileVideoExit").css({display:"block"}),0==selectedVidLoader&&selectedVidLoader++}function exitMobileFullScreen(){clickedVideo=!1,player.mute().pauseVideo(),$("#mobileVideoLoader, #mobileVideoExit, #container, .animatingPage").css({display:""}),checkPositions()}function fn(){fullScreenCounter++,1==fullScreenCounter&&players[lastVideo].unMute().seekTo(0).playVideo(),fullScreenCounter>=2&&(clickedVideo=!1,fullScreenCounter=0,players[lastVideo].mute())}function checkPositions(){function e(e){if(windowSizeWidth>greaterThanResizer[e]&&windowSizeWidth<lesserThanResizer[e]){isMobile||isTablet||(backgroundWSize=$("#homepage").width()/backgroundWImageResizerArr[e],backgroundHSize=$("#homepage").height()/backgroundHImageResizerArr[e]),isTablet&&(backgroundWSize=$("#homepage").width()/backgroundWImageResizerArr[2],backgroundHSize=$("#homepage").height()/backgroundHImageResizerArr[2]),isMobile&&(backgroundWSize=$("#homepage").width()/backgroundWImageResizerArr[3],backgroundHSize=$("#homepage").height()/backgroundHImageResizerArr[3]),desktopImageSizes=[.5,.76,1.675,1.7,1.5,1.734,1.272,1.32,4*backgroundHSize,4*backgroundWSize,3*backgroundWSize,1.8*backgroundHSize,2*backgroundWSize],smallDesktopImageSizes=[.58,.72,1.72,1.74,1.5,1.77,1.4,1.345,4*backgroundHSize,4*backgroundWSize,1.5*backgroundWSize,1.8*backgroundHSize,2*backgroundWSize],tabletImageSizes=[.65,.42,1.78,1.75,2.3,1.77,1.4,1.375,4*backgroundHSize,4*backgroundWSize,backgroundWSize,1.8*backgroundHSize,2*backgroundWSize],mobileImageSizes=[.22,.42,1.78,1.635,8,1.66,1.348,1.375,4*backgroundHSize,4*backgroundWSize,backgroundWSize,1.8*backgroundHSize,backgroundWSize,1.348],imageResizingArr=[desktopImageSizes,smallDesktopImageSizes,tabletImageSizes,mobileImageSizes],isMobile||isTablet||(currentSize=imageResizingArr[e]),isTablet&&(currentSize=imageResizingArr[2]),isMobile&&(currentSize=imageResizingArr[3]);for(var o=0;o<desktopImageSizes.length;o++)i(o,currentSize[o])}}function i(e,i){imageSizeVariables[e]=i,navHeight=[imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[11],imageSizeVariables[11],imageSizeVariables[8]],navWidth=[imageSizeVariables[9],imageSizeVariables[9],imageSizeVariables[9],imageSizeVariables[9],imageSizeVariables[10],imageSizeVariables[9],imageSizeVariables[9],imageSizeVariables[10]],navMarginLeft=[windowSizeWidth/imageSizeVariables[4],windowSizeWidth*imageSizeVariables[5],windowSizeWidth/imageSizeVariables[4],windowSizeWidth*imageSizeVariables[5],windowSizeWidth*imageSizeVariables[6],windowSizeWidth*imageSizeVariables[1],windowSizeWidth*imageSizeVariables[2],windowSizeWidth*imageSizeVariables[6]],navMarginTop=[windowSizeHeight*imageSizeVariables[0],windowSizeHeight*imageSizeVariables[0],windowSizeHeight*imageSizeVariables[3],windowSizeHeight*imageSizeVariables[3],windowSizeHeight*imageSizeVariables[0],windowSizeHeight*imageSizeVariables[7],windowSizeHeight*imageSizeVariables[7],windowSizeHeight*imageSizeVariables[3]]}function o(e){$("#portfolio"+(e+1)+"page").css({height:navHeight[e]+"px",width:navWidth[e]+"px","margin-left":navMarginLeft[e]+"px","margin-top":navMarginTop[e]+"px"})}windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height(),$("#homepage").css({"margin-left":windowSizeWidth+"px","margin-top":windowSizeHeight+"px"}),$("#container").css({height:3*windowSizeHeight+"px ",width:3*windowSizeWidth+"px","margin-left":"-"+windowSizeWidth+"px","margin-top":"-"+windowSizeHeight+"px"}),backgroundWMover=.375*$("#homepage").width(),backgroundHMover=.375*$("#homepage").height();for(var t=0;t<greaterThanResizer.length;t++)e(t);if($(".backgroundImage").css({width:backgroundWSize+"px ",height:backgroundHSize+"px"}),outerBtnHolderWSize=$("#outerBtnHolder").width(),outerBtnHolderHSize=$("#outerBtnHolder").height(),innerBtnHolderHSize=$("#innerBtnHolder").height(),middleImagesHeight=$("#middleImages").height(),divCenter=($(window).width()-outerBtnHolderWSize)/2,outerBtnHolderTop=($("#homepage").height()-$("#outerBtnHolder").height())/2,innerBtnHolderTop=(outerBtnHolderHSize-innerBtnHolderHSize)/2,growBackgroundWSize=1.3*backgroundWSize,shrinkBackgroundWSize=backgroundWSize/1.9,0==clickedVideo){$("#container").css({opacity:1,display:"block"}),$("#outerBtnHolder").css({width:"",height:"",top:outerBtnHolderTop+"px","margin-left":"","margin-right":"",left:"",right:""}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""});for(var a=0;a<navMarginLeft.length;a++)o(a);$("#middleImages").css({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px "}),"newUser"!=lastScrolled&&$("#linksTop, #linksBottom").stop().animate({opacity:1}),"container"!=isHover&&resetToHome("reset")}1==!!v.canPlayType&&windowSizeWidth>1024&&"newUser"==lastScrolled?animateHome():(0==!!v.canPlayType||windowSizeWidth<1024||isMobile)&&staticHome()}function checkWidth(){var e=movementStrength/$(window).height(),i=movementStrength/$(window).width();windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height();var o=-windowSizeHeight,t=-windowSizeWidth,a=y-$(window).height()/2,n=x-$(window).width()/2,r=i*n*-1+t,s=e*a*-1+o;"newUser"!=lastScrolled&&$(function(){updatePosition(r,s)})}function deviceMotionHandler(e){checkWidth(),movementStrength=3;var i=Math.round(event.accelerationIncludingGravity.y)*(3*$(".backgroundImage").height()),o=Math.round(event.accelerationIncludingGravity.x)*(2*$(".backgroundImage").width());$(window).height()<$(window).width()&&(i=Math.round(event.accelerationIncludingGravity.x)*$(".backgroundImage").width(),o=Math.round(event.accelerationIncludingGravity.y)*$(".backgroundImage").height()*6),x=o,y=i}function updatePosition(e,i){function o(e,i){windowSizeWidth>1024&&$("#container").css({"margin-left":portfolioMovePosX[i],"margin-top":portfolioMovePosY[i]})}if(currentPosX=e,currentPosY=i,portfolioMovePosX=[currentPosX/1.2+"px",1.16*currentPosX+"px",currentPosX/1.2+"px",1.16*currentPosX+"px",currentPosX+"px",currentPosX/1.3+"px",1.24*currentPosX+"px",currentPosX+"px"],portfolioMovePosY=[.7*currentPosY+"px",.7*currentPosY+"px",1.3*currentPosY+"px",1.3*currentPosY+"px",.6*currentPosY+"px",currentPosY+"px",currentPosY+"px",1.4*currentPosY+"px"],0==isAnimating&&0==clickedVideo&&windowSizeHeight>550){for(var t=0;t<portfolioMovePosX.length+1;t++)isHover=="portfolio"+t+"page"&&""!=lastScrolled&&o(isHover,t-1);("container"==isHover||windowSizeWidth<1024)&&($("#container").css({opacity:1,"margin-left":e+"px","margin-top":i+"px"}),$(".backgroundImage").css({width:backgroundWSize+"px",height:backgroundHSize+"px"}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""}),"container"==isHover&&(lastScrolled="container"))}}function staticHome(){console.log("static home triggered"),$("video").css({display:"none"}),$("#centerImage").addClass("designBackground"),$("#topImage, #bottomImage, #portfolio1, #portfolio2, #portfolio3, #portfolio4, #portfolio5, #portfolio6, #portfolio7, #portfolio8").css({top:"",left:"",right:"",bottom:"",opacity:""}),lastScrolled="",isHover="container",isAnimating=!1,0==videoClicked&&$(".animatingPage").css({display:""}),console.log("static home")}function animateHome(){console.log("video play");var e=($("#centerImage").height()-.7*$("#centerImage").height())/2;$(".animatingPage").css({display:"none"}),$("#topImage").css({top:"35%",opacity:"0"}),$("#portfolio1").css({top:"40%",left:"40%",opacity:0}),$("#portfolio2").css({top:"40%",right:"40%",opacity:0}),$("#portfolio3").css({bottom:"40%",left:"40%",opacity:0}),$("#portfolio4").css({bottom:"40%",right:"40%",opacity:0}),$("#portfolio6").css({left:"40%",opacity:0}),$("#portfolio7").css({right:"40%",opacity:0}),$("#bottomImage").css({bottom:"35%",opacity:0}),console.log("animate home"),1!=$("video").get(0).paused?staticHome():$("video").css({top:e+"px"}).on("ended",function(){console.log("Video has ended!"),$("#topImage").stop().animate({top:"0",left:"0",opacity:1},500),$("#portfolio1").stop().animate({top:"",left:"",opacity:1},500),$("#portfolio2").stop().animate({top:"",right:"",opacity:1},500),$("#portfolio3").stop().animate({bottom:"",left:"",opacity:1},500),$("#portfolio4").stop().animate({bottom:"",right:"",opacity:1},500),$("#portfolio6").stop().animate({left:"0",opacity:1},500),$("#portfolio7").stop().animate({right:"0",opacity:1},500),$("#bottomImage").stop().animate({bottom:"0",opacity:1},500),lastScrolled="",isHover="container",isAnimating=!1,setTimeout(function(){$("#linksTop, #linksBottom").stop().animate({opacity:1}),$(".animatingPage").css({display:"block"})},1e3)})}function scrollPortfolio(e,i){"block"===$("video").css("display")&&$("video").css({display:"none"}),lastScrolled="#"+e.substring(0,10),windowSizeWidth>1024&&0==isNaN(currentPosX)&&windowSizeHeight>500&&0==clickedVideo&&(isAnimating=!0,$("#container").stop().animate({"margin-left":portfolioMovePosX[i],"margin-top":portfolioMovePosY[i]},{complete:function(){isAnimating=!1}}),$(lastScrolled).removeClass("backgroundImage").addClass("staticImage"),$(lastScrolled+"page .content").stop().animate({opacity:1}),$(".staticImage").stop().animate({width:growBackgroundWSize+"px"},{complete:function(){1==isReady&&animateIn()}}),$(".backgroundImage").stop().animate({width:shrinkBackgroundWSize+"px"}),$("#linksTop, #linksBottom").stop().animate({opacity:0}))}function animateIn(){lastVideo=lastScrolled.substr(lastScrolled.length-1)-1,players[lastVideo].playVideo(),1==myPlayerState&&"0"===$("#"+isHover+" .videoContainer").css("opacity")&&0==clickedVideo&&$("#"+isHover+" .videoContainer").stop().animate({opacity:1})}function openPortfolio(e){if(isNaN(lastScrolled)&&"container"==lastScrolled&&isMobile&&players[wasPlayed].unMute().seekTo(0).playVideo(),0==clickedVideo&&1==isReady&&windowSizeHeight>500&&!isTablet){lastVideo=lastScrolled.substr(lastScrolled.length-1)-1,console.log("clicked = "+lastVideo);var i=document.getElementById("player"+(lastVideo+1));isMobile&&fullScreenMobile(),isMobile||fullScreen(i)}if(isTablet){var o=e.substring(9);o=parseInt(o)-1,selectedVidLoader=0,clickedVideo=!0,fullScreenTouchDevice(o)}}var has_touch="ontouchstart"in document.documentElement,isTablet=/Tablet|ipad/i.test(navigator.userAgent.toLowerCase()),isMobile=/webos|iphone|blackberry|ipod|android. +mobile|windows phone/i.test(navigator.userAgent.toLowerCase()),x,y,currentPosX,currentPosY,movementStrength=10,backgroundWSize,backgroundHSize,backgroundWPos,backgroundHPos,smallHitboxWSize,smallHitboxHSize,largeHitboxWSize,largeHitboxHSize,medHitboxWSize,medHitboxHSize,outerBtnHolderWSize,outerBtnHolderHSize,innerBtnHolderHSize,newouterBtnHolderWSize,newInnerBtnHolderHSize,newouterBtnHolderHSize,innerBtnHolderTop,outerBtnHolderTop,newInnerBtnHolderTop,windowSizeWidth,windowSizeHeight,isAnimating=!1,isHover="container",shortMovement=1.22,mediumMovement=1.28,longMovement=1.29,image,lastScrolled="newUser",lastVideo,backgroundWMover,backgroundHMover,rightPosMath=1.57,bottomPosMath=1.73,topPosMath=3.22,leftPosMath=3.94,growBackgroundWSize,shrinkBackgroundWSize,v=document.createElement("video"),divCenter,middleImagesHeight,newMiddleImagesHeight,clickedVideo=!1,portfolioMovePosX,portfolioMovePosY,topPagePos,bottomPagePos,leftPagePos,rightPagePos,bottomPagePos,leftCornerPos,rightCornerPos,centralPos,middlePagePos,desktopImageSizes,smallDesktopImageSizes,tabletImageSizes,mobileImageSizes,imageResizingArr,imageSizeVariables=[topPagePos,leftPagePos,rightPagePos,bottomPagePos,leftCornerPos,rightCornerPos,centralPos,middlePagePos,largeHitboxHSize,largeHitboxWSize,medHitboxWSize,smallHitboxHSize,smallHitboxWSize],greaterThanResizer=[1024,900,551,0],lesserThanResizer=[99999999,1024,900,550],backgroundWImageResizerArr=[7,7,5,3.3],backgroundHImageResizerArr=[5,6,7,3.5],navHeight=[imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[8],imageSizeVariables[11],imageSizeVariables[11],imageSizeVariables[8]],navWidth,navMarginLeft,navMarginTop,tag=document.createElement("script");tag.src="//www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var isLoaded=0,isReady=!1,videoList,players=[],playerYoutubeIds=[],ID="",player,myPlayerState,fullScreenCounter=0,wasPlayed,selectedVidLoader=0,videoLoaderState;$(document).ready(function(){console.log("ready!"),$.fn.bgLoaded=function(e){var i=this,o={afterLoaded:function(){this.addClass("bg-loaded")}},t=$.extend({},o,e);i.each(function(){var e=$(this),i=e.css("background-image").split(", ");e.data("loaded-count",0),$.each(i,function(o,a){var n=a.replace(/^url\(["']?/,"").replace(/["']?\)$/,"");$("<img/>").attr("src",n).load(function(){$(this).remove(),e.data("loaded-count",e.data("loaded-count")+1),e.data("loaded-count")>=i.length&&t.afterLoaded.call(e)})})})}}),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",fn),$(document).ready(function(){function e(){o.currentTime>=.5&&$("#centerImage").addClass("designBackground")}function i(e){if(0==clickedVideo&&windowSizeWidth>1024&&!isMobile)if($(lastScrolled).removeClass("staticImage").addClass("backgroundImage"),$(".videoContainer").stop().animate({opacity:0}),1==isReady&&pauseAllVideos(),"reset"!=e&&""!=lastScrolled){isMobile||(isAnimating=!0),$(".backgroundImage").stop().animate({width:backgroundWSize+"px"}),$("#"+e+" .content").stop().animate({opacity:0}),$("#middleImages").stop().animate({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px"}),$("#innerBtnHolder").stop().animate({top:innerBtnHolderTop+"px"}),$("#outerBtnHolder").stop().animate({width:outerBtnHolderWSize+"px",height:outerBtnHolderHSize+"px","margin-right":"","margin-left":divCenter+"px",top:outerBtnHolderTop+"px"}),$("#linksTop, #linksBottom").stop().animate({opacity:1});for(var i=1;i<8;i++)isHover!="portfolio"+i+"page"&&(isHover="container",$("#container").stop().animate({"margin-left":currentPosX+"px","margin-top":currentPosY+"px"},{complete:function(){isAnimating=!1}}))}else $("#container").css({opacity:0,"margin-left":currentPosX+"px","margin-top":currentPosY+"px"}),setTimeout(function(){isAnimating=!1,$(lastScrolled+"page .content").css({opacity:0}),$("#container").css({opacity:"1","margin-left":currentPosX+"px","margin-top":currentPosY+"px"}),isHover="container",checkPositions(),$(".videoContainer").css({opacity:0}),console.log("reset")},50);else isMobile||isTablet||(isHover="container")}var o=document.getElementById("startUpVid");console.log(o),o.ontimeupdate=function(){e()},$(".backgroundImage").imagesLoaded().done(function(e){console.log("all images successfully loaded"),checkPositions()}),$(window).resize(checkPositions),$(window).on("orientationchange",function(e){checkPositions()}),$(".animatingPage").mouseenter(function(){isHover=$(this).attr("id");for(var e=0;e<portfolioMovePosX.length+1;e++)isHover=="portfolio"+e+"page"&&""!=lastScrolled&&scrollPortfolio(isHover,e-1)}),$(".animatingPage").click(function(){"container"==isHover&&isMobile&&openPortfolio(wasPlayed);for(var e=0;e<portfolioMovePosX.length+1;e++)isHover=="portfolio"+e+"page"&&""!=lastScrolled&&openPortfolio(isHover)}),$("#mobileVideoExit").click(function(){exitMobileFullScreen()}),$(".animatingPage").mouseleave(function(){i(isHover)})}),$(document).bind("touchmove",function(e){e.preventDefault()}),checkWidth(),$(window).resize(checkWidth),has_touch?window.addEventListener("devicemotion",deviceMotionHandler,!1):$("body").mousemove(function(e){checkWidth(),x=e.pageX,y=e.pageY});