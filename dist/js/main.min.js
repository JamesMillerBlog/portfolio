function updatePosition(e,o){currentPosX=e,currentPosY=o,portfolioMovePosX=[currentPosX/1.2+"px",1.16*currentPosX+"px",currentPosX/1.2+"px",1.16*currentPosX+"px",currentPosX+"px",currentPosX/1.3+"px",1.24*currentPosX+"px",currentPosX+"px"],portfolioMovePosY=[.7*currentPosY+"px",.7*currentPosY+"px",1.3*currentPosY+"px",1.3*currentPosY+"px",.6*currentPosY+"px",currentPosY+"px",currentPosY+"px",1.4*currentPosY+"px"],0==isAnimating&&0==clickedVideo&&("portfolio1page"==isHover&&$("#container").css({"margin-left":currentPosX/1.2+"px","margin-top":.7*currentPosY+"px"}),"portfolio2page"==isHover&&$("#container").css({"margin-left":1.16*currentPosX+"px","margin-top":.7*currentPosY+"px"}),"portfolio3page"==isHover&&$("#container").css({"margin-left":currentPosX/1.2+"px","margin-top":1.3*currentPosY+"px"}),"portfolio4page"==isHover&&$("#container").css({"margin-left":1.16*currentPosX+"px","margin-top":1.3*currentPosY+"px"}),"portfolio5page"==isHover&&$("#container").css({"margin-left":currentPosX+"px","margin-top":.6*currentPosY+"px"}),"portfolio6page"==isHover&&$("#container").css({"margin-left":currentPosX/1.3+"px","margin-top":currentPosY+"px"}),"portfolio7page"==isHover&&$("#container").css({"margin-left":1.24*currentPosX+"px","margin-top":currentPosY+"px"}),"portfolio8page"==isHover&&$("#container").css({"margin-left":currentPosX+"px","margin-top":1.4*currentPosY+"px"}),"container"==isHover&&($("#container").css({opacity:1,"margin-left":e+"px","margin-top":o+"px"}),$(".backgroundImage").css({width:backgroundWSize+"px",height:backgroundHSize+"px"}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""}),lastScrolled="container"))}function animateIn(){lastVideo=lastScrolled.substr(lastScrolled.length-1)-1,players[lastVideo].playVideo(),1==myPlayerState&&"0"===$("#"+isHover+" .videoContainer").css("opacity")&&$("#"+isHover+" .videoContainer").stop().animate({opacity:1})}function checkWidth(){var e=movementStrength/$(window).height(),o=movementStrength/$(window).width();windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height();var i=-windowSizeHeight,t=-windowSizeWidth,n=y-$(window).height()/2,r=x-$(window).width()/2,a=o*r*-1+t,d=e*n*-1+i;"newUser"!=lastScrolled&&$(function(){updatePosition(a,d)})}function deviceMotionHandler(e){checkWidth(),movementStrength=3;var o=Math.round(event.accelerationIncludingGravity.y)*(3*$(".backgroundImage").height()),i=Math.round(event.accelerationIncludingGravity.x)*(2*$(".backgroundImage").width());$(window).height()<$(window).width()&&(o=Math.round(event.accelerationIncludingGravity.x)*$(".backgroundImage").width(),i=Math.round(event.accelerationIncludingGravity.y)*$(".backgroundImage").height()*6),x=i,y=o}function onYouTubeIframeAPIReady(){var e=document.querySelectorAll("iframe");for(videoList=0;videoList<e.length;videoList++)players[videoList]=createPlayer(e[videoList])}function createPlayer(e){return new YT.Player(e.id,{events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){isLoaded++,e.target.mute(),isLoaded==videoList&&(console.log("videos ready"),isReady=!0)}function pauseAllVideos(){for(var e=0;e<videoList;e++)players[e].pauseVideo()}function onPlayerStateChange(e){myPlayerState=e.data,"container"!=isHover&&1==isReady&&animateIn()}function fullScreen(e){console.log("video = "+e),e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()}function fn(){fullScreenCounter++,1==fullScreenCounter&&players[lastVideo].unMute().seekTo(0).playVideo(),2==fullScreenCounter&&(clickedVideo=!1,fullScreenCounter=0,players[lastVideo].mute())}$(document).ready(function(){console.log("ready!"),$.fn.bgLoaded=function(e){var o=this,i={afterLoaded:function(){this.addClass("bg-loaded")}},t=$.extend({},i,e);o.each(function(){var e=$(this),o=e.css("background-image").split(", ");e.data("loaded-count",0),$.each(o,function(i,n){var r=n.replace(/^url\(["']?/,"").replace(/["']?\)$/,"");$("<img/>").attr("src",r).load(function(){$(this).remove(),e.data("loaded-count",e.data("loaded-count")+1),e.data("loaded-count")>=o.length&&t.afterLoaded.call(e)})})})}});var has_touch="ontouchstart"in document.documentElement,isTablet=/Tablet|ipad/i.test(navigator.userAgent.toLowerCase()),isMobile=/webos|iphone|blackberry|ipod|android. +mobile|windows phone/i.test(navigator.userAgent.toLowerCase()),currentPosX,currentPosY,backgroundWSize,backgroundHSize,backgroundWPos,backgroundHPos,smallHitboxWSize,smallHitboxHSize,largeHitboxWSize,largeHitboxHSize,medHitboxWSize,medHitboxHSize,outerBtnHolderWSize,outerBtnHolderHSize,innerBtnHolderHSize,newouterBtnHolderWSize,newInnerBtnHolderHSize,newouterBtnHolderHSize,innerBtnHolderTop,outerBtnHolderTop,newInnerBtnHolderTop,windowSizeWidth,windowSizeHeight,isAnimating=!1,isHover="container",shortMovement=1.22,mediumMovement=1.28,longMovement=1.29,image,lastScrolled="newUser",lastVideo,backgroundWMover,backgroundHMover,rightPosMath=1.57,bottomPosMath=1.73,topPosMath=3.22,leftPosMath=3.94,growBackgroundWSize,shrinkBackgroundWSize,v=document.createElement("video"),divCenter,middleImagesHeight,newMiddleImagesHeight,clickedVideo=!1,portfolioMovePosX,portfolioMovePosY;$(document).ready(function(){function e(){windowSizeWidth=$(window).width(),windowSizeHeight=$(window).height();var e,t,n,a,t,d,l,s,c;$("#homepage").css({"margin-left":windowSizeWidth+"px","margin-top":windowSizeHeight+"px"}),$("#container").css({height:3*windowSizeHeight+"px ",width:3*windowSizeWidth+"px","margin-left":"-"+windowSizeWidth+"px","margin-top":"-"+windowSizeHeight+"px",opacity:1}),backgroundWMover=.375*$("#homepage").width(),backgroundHMover=.375*$("#homepage").height(),windowSizeWidth>1024?(e=.5,n=.76,a=1.675,t=1.7,d=1.5,l=1.734,s=1.29,c=1.32,backgroundWSize=$("#homepage").width()/7,backgroundHSize=$("#homepage").height()/5,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,medHitboxWSize=3*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize):windowSizeWidth>900&&windowSizeWidth<1024?(e=.58,n=.72,a=1.72,t=1.74,d=1.5,l=1.77,s=1.354,c=1.345,backgroundWSize=$("#homepage").width()/7,backgroundHSize=$("#homepage").height()/6,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize):(windowSizeWidth>=551&&windowSizeWidth<900||isTablet)&&(e=.65,n=.42,a=1.78,t=1.75,d=2.3,l=1.77,s=1.3,c=1.375,backgroundWSize=$("#homepage").width()/5,backgroundHSize=$("#homepage").height()/7,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=2*backgroundWSize),(windowSizeWidth<=550||isMobile)&&(e=.25,t=1.6,d=8,l=1.66,s=1.3478,c=1.375,backgroundWSize=$("#homepage").width()/3.3,backgroundHSize=$("#homepage").height()/3.5,largeHitboxHSize=4*backgroundHSize,largeHitboxWSize=4*backgroundWSize,smallHitboxHSize=1.8*backgroundHSize,smallHitboxWSize=backgroundWSize),$(".backgroundImage").css({width:backgroundWSize+"px ",height:backgroundHSize+"px"}),outerBtnHolderWSize=$("#outerBtnHolder").width(),outerBtnHolderHSize=$("#outerBtnHolder").height(),innerBtnHolderHSize=$("#innerBtnHolder").height(),middleImagesHeight=$("#middleImages").height(),divCenter=($(window).width()-outerBtnHolderWSize)/2,growBackgroundWSize=1.3*backgroundWSize,shrinkBackgroundWSize=backgroundWSize/1.9,newouterBtnHolderWSize=outerBtnHolderWSize/1.5,newouterBtnHolderHSize=outerBtnHolderHSize/1.5,newMiddleImagesHeight=middleImagesHeight/1,newInnerBtnHolderHSize=innerBtnHolderHSize/1.5,outerBtnHolderTop=($("#homepage").height()-$("#outerBtnHolder").height())/2,innerBtnHolderTop=(outerBtnHolderHSize-innerBtnHolderHSize)/2,newInnerBtnHolderTop=(newouterBtnHolderHSize-newInnerBtnHolderHSize)/2,0==clickedVideo&&($("#outerBtnHolder").css({width:"",height:"",top:outerBtnHolderTop+"px","margin-left":"","margin-right":"",left:"",right:""}),$("#innerBtnHolder").css({width:"",height:"","margin-left":"","margin-right":"",left:"",right:"",top:innerBtnHolderTop,bottom:""}),$("#portfolio1page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth/d+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio2page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*l+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio3page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth/d+"px","margin-top":windowSizeHeight*t+"px"}),$("#portfolio4page").css({height:largeHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*l+"px","margin-top":windowSizeHeight*t+"px"}),$("#portfolio5page").css({height:largeHitboxHSize+"px ",width:medHitboxWSize+"px","margin-left":windowSizeWidth*s+"px","margin-top":windowSizeHeight*e+"px"}),$("#portfolio6page").css({height:smallHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*n+"px","margin-top":windowSizeHeight*c+"px"}),$("#portfolio7page").css({height:smallHitboxHSize+"px ",width:largeHitboxWSize+"px","margin-left":windowSizeWidth*a+"px","margin-top":windowSizeHeight*c+"px"}),$("#portfolio8page").css({height:largeHitboxHSize+"px ",width:medHitboxWSize+"px","margin-left":windowSizeWidth*s+"px","margin-top":windowSizeHeight*t+"px"}),$("#middleImages").css({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px "}),"container"!=isHover&&r("reset")),1==!!v.canPlayType&&windowSizeWidth>1024&&"newUser"==lastScrolled?i():(0==!!v.canPlayType||windowSizeWidth<1024)&&o()}function o(){console.log("static home triggered"),$("video").css({display:"none"}),$("#moving5").addClass("designBackground"),$("#topImage, #bottomImage, #portfolio1, #portfolio2, #portfolio3, #portfolio4, #portfolio5, #portfolio6, #portfolio7, #portfolio8").css({top:"",left:"",right:"",bottom:"",opacity:""}),lastScrolled="",isHover="container",isAnimating=!1,$(".animatingPage").css({display:"block"})}function i(){console.log("video play");var e=($("#moving5").height()-.7*$("#moving5").height())/2;$(".animatingPage").css({display:"none"}),$("#topImage").css({top:"35%",opacity:"0"}),$("#portfolio1").css({top:"40%",left:"40%",opacity:0}),$("#portfolio2").css({top:"40%",right:"40%",opacity:0}),$("#portfolio3").css({bottom:"40%",left:"40%",opacity:0}),$("#portfolio4").css({bottom:"40%",right:"40%",opacity:0}),$("#portfolio6").css({left:"40%",opacity:0}),$("#portfolio7").css({right:"40%",opacity:0}),$("#bottomImage").css({bottom:"35%",opacity:0}),1!=$("video").get(0).paused?o():$("video").css({top:e+"px"}).on("ended",function(){"newUser"==lastScrolled&&(console.log("Video has ended!"),$("#topImage").stop().animate({top:"0",left:"0",opacity:1},500),$("#portfolio1").stop().animate({top:"",left:"",opacity:1},500),$("#portfolio2").stop().animate({top:"",right:"",opacity:1},500),$("#portfolio3").stop().animate({bottom:"",left:"",opacity:1},500),$("#portfolio4").stop().animate({bottom:"",right:"",opacity:1},500),$("#portfolio6").stop().animate({left:"0",opacity:1},500),$("#portfolio7").stop().animate({right:"0",opacity:1},500),$("#bottomImage").stop().animate({bottom:"0",opacity:1},500),lastScrolled="",isHover="container",isAnimating=!1,setTimeout(function(){$(".animatingPage").css({display:"block"}),console.log("animation finished - ready to play!")},1e3))})}function t(e,o){$("#container").stop().animate({"margin-left":portfolioMovePosX[o],"margin-top":portfolioMovePosY[o]},{complete:function(){isAnimating=!1}}),lastScrolled="#"+e.substring(0,10),$(lastScrolled).removeClass("backgroundImage").addClass("staticImage"),$(lastScrolled+"page .content").stop().animate({opacity:1}),$(".staticImage").stop().animate({width:growBackgroundWSize+"px"},{complete:function(){1==isReady&&animateIn()}}),$(".backgroundImage").stop().animate({width:shrinkBackgroundWSize+"px"})}function n(e){if(0==clickedVideo&&1==isReady){lastVideo=lastScrolled.substr(lastScrolled.length-1)-1;var o=document.getElementById("player"+(lastVideo+1));fullScreen(o),clickedVideo=!0}}function r(o){if(0==clickedVideo)if($(lastScrolled).removeClass("staticImage").addClass("backgroundImage"),$(".videoContainer").stop().animate({opacity:0}),1==isReady&&pauseAllVideos(),"reset"!=o&&""!=lastScrolled){isAnimating=!0,$(".backgroundImage").stop().animate({width:backgroundWSize+"px"}),$("#"+o+" .content").stop().animate({opacity:0}),$("#middleImages").stop().animate({top:(innerBtnHolderHSize-middleImagesHeight)/2+"px"}),$("#innerBtnHolder").stop().animate({top:innerBtnHolderTop+"px"}),$("#outerBtnHolder").stop().animate({width:outerBtnHolderWSize+"px",height:outerBtnHolderHSize+"px","margin-right":"","margin-left":divCenter+"px",top:outerBtnHolderTop+"px"});for(var i=1;i<8;i++)isHover!="portfolio"+i+"page"&&(isHover="container",$("#container").stop().animate({"margin-left":currentPosX+"px","margin-top":currentPosY+"px"},{complete:function(){isAnimating=!1}}))}else $("#container").css({opacity:0,"margin-left":currentPosX+"px","margin-top":currentPosY+"px"}),setTimeout(function(){isAnimating=!1,$(lastScrolled+"page .content").css({opacity:0}),$(".videoContainer").css({opacity:0}),$("#container").css({opacity:"1","margin-left":currentPosX+"px","margin-top":currentPosY+"px"}),isHover="container",e(),console.log("reset")},50)}$(".backgroundImage").imagesLoaded().done(function(o){console.log("all images successfully loaded"),e()}),$(window).resize(e),$(window).on("orientationchange",function(o){e()}),$(".animatingPage").mouseenter(function(){if(windowSizeWidth>1024&&0==isNaN(currentPosX)&&windowSizeHeight>500&&0==clickedVideo){isHover=$(this).attr("id"),isAnimating=!0;for(var e=1;e<9;e++)isHover=="portfolio"+e+"page"&&""!=lastScrolled&&t(isHover,e-1)}}),$(".animatingPage").click(function(){for(var e=1;e<9;e++)isHover=="portfolio"+e+"page"&&""!=lastScrolled&&n(isHover)}),$(".animatingPage").mouseleave(function(){windowSizeWidth>1024&&0==clickedVideo&&r(isHover)})});var x,y,movementStrength=10;$(document).bind("touchmove",function(e){e.preventDefault()}),checkWidth(),$(window).resize(checkWidth),has_touch?window.addEventListener("devicemotion",deviceMotionHandler,!1):$("body").mousemove(function(e){checkWidth(),x=e.pageX,y=e.pageY});var tag=document.createElement("script");tag.src="//www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var isLoaded=0,isReady=!1,videoList,players=[],myPlayerState,fullScreenCounter=0;$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",fn);